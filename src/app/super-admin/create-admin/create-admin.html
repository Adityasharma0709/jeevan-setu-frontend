<!-- PAGE HEADER -->
<div class="flex items-center justify-between mb-4">
  <h2 class="text-xl font-bold">Admins</h2>

  <!-- OPEN DIALOG BUTTON -->
<button z-button class="w-full sm:w-auto" (click)="openCreateDialog()">
  Create Admin
</button>

</div>

<!-- CREATE ADMIN DIALOG TEMPLATE -->
<ng-template #createAdminDialog>

  <form [formGroup]="form" class="space-y-6">

    <z-form-field>
      <label z-form-label zRequired>Name</label>
      <z-form-control>
        <input
          z-input
          type="text"
          formControlName="name"
          placeholder="Enter name"
        />
      </z-form-control>
      <z-form-message>Admin name</z-form-message>
    </z-form-field>

    <z-form-field>
      <label z-form-label zRequired>Email</label>
      <z-form-control>
        <input
          z-input
          type="email"
          formControlName="email"
          placeholder="Enter email"
        />
      </z-form-control>
      <z-form-message>Admin email</z-form-message>
    </z-form-field>

    <z-form-field>
      <label z-form-label zRequired>Password</label>
      <z-form-control>
        <input
          z-input
          type="password"
          formControlName="password"
          placeholder="Enter password"
        />
      </z-form-control>
      <z-form-message>Min 6 characters</z-form-message>
    </z-form-field>

  </form>

</ng-template>

<!-- SUCCESS MESSAGE -->
<p *ngIf="successMsg" class="text-green-600 mt-2">
  {{ successMsg }}
</p>

<!-- ERROR MESSAGE -->
<p *ngIf="errorMsg" class="text-red-600 mt-2">
  {{ errorMsg }}
</p>

<!-- ADMIN TABLE -->
<h3 class="mt-6 font-bold">All Admins</h3>

<table z-table class="mt-4 w-full">

  <thead z-table-header>
    <tr z-table-row>
      <th z-table-head>Name</th>
      <th z-table-head>Email</th>
      <th z-table-head>Role</th>
    </tr>
  </thead>

  <tbody z-table-body *ngIf="admins$ | async as admins">
    <tr z-table-row *ngFor="let a of admins">

      <td z-table-cell>
        {{ a.name }}
      </td>

      <td z-table-cell>
        {{ a.email }}
      </td>

      <td z-table-cell>
        {{ a.role }}
      </td>

    </tr>
  </tbody>

</table>
