<div class="p-6" *ngIf="projects$ | async as projects">

  <!-- HEADER -->
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">Projects</h1>

    <button
      type="button"
      z-button
      (click)="openCreateDialog()"
    >
      + Create Project
    </button>
  </div>

  <!-- TABLE -->
  <div class="bg-white shadow rounded-xl p-6">

    <table z-table class="w-full">

      <thead z-table-header>
        <tr z-table-row>
          <th z-table-head>Code</th>
          <th z-table-head>Name</th>
          <th z-table-head>Status</th>
        </tr>
      </thead>

      <tbody z-table-body>
        <tr z-table-row *ngFor="let p of projects">

          <td z-table-cell>
            {{ p.projectCode }}
          </td>

          <td z-table-cell>
            {{ p.name }}
          </td>

          <td z-table-cell>
            <span
              class="px-2 py-1 rounded text-sm"
              [ngClass]="{
                'bg-green-100 text-green-600': p.status === 'ACTIVE',
                'bg-red-100 text-red-600': p.status !== 'ACTIVE'
              }"
            >
              {{ p.status }}
            </span>
          </td>

        </tr>
      </tbody>

    </table>

  </div>

</div>

<!-- CREATE PROJECT DIALOG -->
<ng-template #createProjectDialog>

  <form [formGroup]="form" class="space-y-4">

    <input
      z-input
      formControlName="projectCode"
      placeholder="Project Code"
    />

    <input
      z-input
      formControlName="name"
      placeholder="Project Name"
    />

  </form>

</ng-template>
