<div class="p-6" *ngIf="stats$ | async as stats">

  <h1 class="text-2xl font-bold mb-6">
    Super Admin Dashboard
  </h1>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">

    <div class="bg-white shadow rounded-xl p-6">
      <p class="text-gray-500">Total Projects</p>
      <h2 class="text-3xl font-bold text-indigo-600">
        {{ stats.totalProjects }}
      </h2>
    </div>

    <div class="bg-white shadow rounded-xl p-6">
      <p class="text-gray-500">Total Locations</p>
      <h2 class="text-3xl font-bold text-green-600">
        {{ stats.totalLocations }}
      </h2>
    </div>

  </div>

  <!-- Table Card -->
  <div class="bg-white shadow rounded-xl p-6">

    <h2 class="text-xl font-semibold mb-4">
      Beneficiaries Per Project
    </h2>

    <table z-table class="w-full">

      <thead z-table-header>
        <tr z-table-row>
          <th z-table-head>Code</th>
          <th z-table-head>Project</th>
          <th z-table-head>Count</th>
        </tr>
      </thead>

      <tbody z-table-body>
        <tr z-table-row *ngFor="let p of stats.beneficiariesPerProject">

          <td z-table-cell>
            {{ p.projectCode }}
          </td>

          <td z-table-cell>
            {{ p.name }}
          </td>

          <td z-table-cell>
            <span
              class="font-bold"
              [ngClass]="{
                'text-indigo-600': p._count.beneficiaries > 0,
                'text-gray-400': p._count.beneficiaries === 0
              }"
            >
              {{ p._count.beneficiaries }}
            </span>
          </td>

        </tr>
      </tbody>

    </table>

  </div>

</div>
